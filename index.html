<!DOCTYPE html>
<html>
    <head>
        <title>Report Formatter</title>
        <meta http-equiv="X-UA-Compatible" content="IE=7">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <link rel="stylesheet" href="./css/style.css">
        <script type="text/javascript" src="./js/header.js" defer></script>
        <script type="text/javascript" src="./js/report.js" defer></script>
        <script type="text/javascript" src="./js/settings.js" defer></script>
        <link rel="icon" href="./icons/favicon.svg">
        <link href="https://fonts.googleapis.com/css2?family=Pixelify+Sans" rel="stylesheet">
    </head>
    <body class="theme-light">
        <header class="header">
            <div class="header__content">
                <div class="header__dropdown">
                    <h1 class="title">Report Formatter</h1>
                    <img id="dropdown-arrow" src="./icons/arrow.svg" onclick="toggleDropdown()" class="arrow">
                    <ul class="dropdown invisible" id="dropdown">
                        <li onclick="showConfigurations()" class="" id="settings-option">Configurações</li>
                        <li onclick="showReport()" class="invisible" id="report-option">Formatar report</li>
                        <li onclick="showAbout()">Sobre</li>
                    </ul>
                </div>
                
                <div class="theme-container">
                    <img id="theme" src="./icons/theme-light.svg" width="55px" onclick="toggleTheme()">
                </div>
            </div>
        </header>        
        <main id="report-form" class="content">
            <div class="field invisible">
                <label>Data</label>
                <input id="date" disabled />
            </div>
            <div id="squad-field" class="field">
                <label>Time</label>
                <input type="text" id="squad" value=""/>
                <button id="button-save" class="invisible button button--secondary" onclick="saveSquad()">Salvar</button>
            </div>
            
            <div id="form">
                <div class="field">
                    <label>Ambiente</label>
                    <input type="text" id="project" value=""/>
                    <select name="custom-projects" id="custom-projects" class="invisible"></select>
                </div>
                <div class="field" id="deploy-anytime-field">
                    <label>Horário</label>
                    <input type="time" id="deploy-anytime"/>
                    <select name="preset-hours" id="preset-hours" class="invisible"></select>
                </div>             
                <div class="field fullsize" id="feature-field">
                    <label>Épico</label>
                    <input type="text" id="feature" value=""/>
                </div>
                <div class="field">
                    <label>Nome task</label>
                    <input type="text" id="task-name" value=""/>
                </div>
                <div class="field">
                    <label>Link task</label>
                    <input type="text" id="task-link" value=""/>
                </div>
                <div class="field fullsize" id="description">
                    <label>Descrição</label>
                    <textarea id="task-description"></textarea>
                </div>
                <div class="field fullsize" id="area">
                    <label>Área</label>
                    <input type="text" id="task-area" value=""/>
                </div>
                <div class="actions">
                    <button class="button button--secondary" onclick="visualizeReport()">
                        Visualizar
                    </button>
                    <button class="button button--secondary" onclick="resetFields()">
                        Limpar
                    </button>
                    <button class="button button--accent" onclick="getReportAndCopy()">
                        Copiar
                    </button>
                </div>
                
            </div>
            <div id="result">
                Visualizando formatação
                <div id="report-formatted">
                </div>
                <div class="actions">
                    <button class="button button--secondary" onclick="backToReport()">
                        Editar
                    </button>
                    <button class="button button--accent" onclick="copyContent()">
                        Copiar
                    </button>
                </div>
            </div>
            <div id="report-content"></div>
        </main>

        <section id="settings-form" class="content invisible">
            <h2>Configurações</h2>
            <p>As customizações ficarão salvas localmente no navegador</p>

            <div class="field">
                <h3>Adicionar intervalos customizados</h3>
                <p>Trocará o campo "Horário" para uma lista de horários</p>
                <span>Adicione os horários separados por uma vírgula</span>
                <textarea id="preset-hours-settings" placeholder="Exemplo: 09h;10h30;11h"></textarea>
            </div>

            <div class="field">
                <h3>Adicionar lista de ambientes / projetos customizados</h3>
                <p>Trocará o compo "Ambientes" para uma lista customizada</p>
                <span>Adicione o nome dos ambientes separados por uma vírgula</span>
                <textarea id="custom-projects-settings" placeholder="Exemplo: projeto 01;projeto 02;projeto 03"></textarea>
            </div>

            <div class="actions">
                <button class="button button--secondary" onclick="resetSettings()">Excluir</button>
                <button class="button button--accent" onclick="saveSettings()">Salvar alterações</button>
            </div>
        </section>

        <footer class="footer">
            <span id="message"></span>
        </footer>
    </body>
</html>